<?xml version="1.0"?>
<block>
  <name>Custom Register</name>
  <key>nutaq_custom_register</key>
  <category>Nutaq</category>
  <throttle>1</throttle>
  <import>import nutaq</import>
  <make>nutaq.custom_register($target_id,$block_priority)
#if $index()
self.$(id).set_index($index)
#end if
#if $value()
self.$(id).set_default_value($value)
#end if
#if $update_rate()
self.$(id).set_update_rate($update_rate)
#end if
  </make>
  <callback>set_value($value)</callback>

  <param>
    <name>Target ID</name>
    <key>target_id</key>
    <type>string</type>
  </param>

  <param>
    <name>Block Priority</name>
    <key>block_priority</key>
    <type>int</type>
  </param>

  <param>
    <name>Register Index</name>
    <key>index</key>
    <type>enum</type>
    <option><name>0</name><key>0</key></option>
    <option><name>1</name><key>1</key></option>
    <option><name>2</name><key>2</key></option>
    <option><name>3</name><key>3</key></option>
    <option><name>4</name><key>4</key></option>
    <option><name>5</name><key>5</key></option>
    <option><name>6</name><key>6</key></option>
    <option><name>7</name><key>7</key></option>
    <option><name>8</name><key>8</key></option>
    <option><name>9</name><key>9</key></option>
    <option><name>10</name><key>10</key></option>
    <option><name>11</name><key>11</key></option>
    <option><name>12</name><key>12</key></option>
    <option><name>13</name><key>13</key></option>
    <option><name>14</name><key>14</key></option>
    <option><name>15</name><key>15</key></option>
    <option><name>16</name><key>16</key></option>
    <option><name>17</name><key>17</key></option>
    <option><name>18</name><key>18</key></option>
    <option><name>19</name><key>19</key></option>
    <option><name>20</name><key>20</key></option>
    <option><name>21</name><key>21</key></option>
    <option><name>22</name><key>22</key></option>
    <option><name>23</name><key>23</key></option>
    <option><name>24</name><key>24</key></option>
    <option><name>25</name><key>25</key></option>
    <option><name>26</name><key>26</key></option>
    <option><name>27</name><key>27</key></option>
    <option><name>28</name><key>28</key></option>
    <option><name>29</name><key>29</key></option>
    <option><name>30</name><key>30</key></option>
    <option><name>31</name><key>31</key></option>
  </param>

  <param>
    <name>Register Value</name>
    <key>value</key>
    <value>0</value>
    <type>int</type>
  </param>

  <param>
    <name>Update Rate</name>
    <key>update_rate</key>
    <value>1</value>
    <type>float</type>    
    <hide>part</hide>
  </param>

  <check>$target_id</check>
  <check>$index >= 0</check>
  <check>$index &lt; 32</check>
  <check>$update_rate >= 0</check>
  <check>$block_priority >= 0</check>

  <sink>
    <name>in</name>
    <type>int</type>
    <nports>$num_chan</nports>
    <optional>1</optional>
  </sink>

  <source>
    <name>out</name>
    <type>int</type>
    <nports>$num_chan</nports>
    <optional>1</optional>
  </source>

    <doc>
Target ID:
Block ID of carrier board.

Block Priority:
Specify the priority of the block between all the blocks who have this parameter. It sets the block order to be executed . Priority order starts from 0. For example, the block with priority of 0 will be the first to be executed, then priority 1, then priority 2, etc. 

Register Index:
Which custom register will be used by this block.

Register Value:
The value that is written initially. This can also be updated in real-time using a variable.

Update Rate:
How often to update the register. This value is in Hertz.
    </doc>

</block>
